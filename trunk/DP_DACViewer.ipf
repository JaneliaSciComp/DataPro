//	DataPro//	DAC/ADC macros for use with Igor Pro and the ITC-16 or ITC-18//	Nelson Spruston//	Northwestern University//	project began 10/27/1998Function DACViewer() : Graph	DACViewerModelConstructor()	String savedDF=GetDataFolder(1)	SetDataFolder root:DP_DACViewer	String dacWaveNames=GetSweeperWaveNamesEndingIn("_DAC")	String firstDACWaveName=StringFromList(0,dacWaveNames,";")	String popupItems, initialPopupItem	if ( strlen(firstDACWaveName)==0 )		popupItems="(None)"		initialPopupItem="(None)"	else		popupItems="(None);" + dacWaveNames		initialPopupItem=firstDACWaveName	endif		Duplicate /O SweeperGetWaveByName(initialPopupItem) theWave	Display /W=(100,150,700,400) /K=1 theWave as "DAC Viewer"	ModifyGraph grid(left)=1	PopupMenu dacpopup,pos={650,20},size={115,20},proc=handleViewDACPopupSelection	String popupItemsStupidized="\""+popupItems+"\""	PopupMenu dacpopup,mode=3,popvalue=initialPopupItem,value=#popupItemsStupidized	SetDataFolder savedDF	EndFunction DACViewerModelConstructor()	// Save the current DF	String savedDF=GetDataFolder(1)		// Create a new DF	NewDataFolder /O /S root:DP_DACViewer					// Restore the original data folder	SetDataFolder savedDFEndFunction handleViewDacPopupSelection(ctrlName,itemNum,itemStr) : PopupMenuControl	String ctrlName	Variable itemNum	String itemStr	// Remove the current trace, put in the new one.	RemoveFromGraph /Z $"#0"	KillWaves /Z theWave	if ( cmpstr(itemStr,"(none)")!=0 )		Duplicate /O SweeperGetWaveByName(itemStr) theWave		AppendToGraph theWave		ModifyGraph grid(left)=1  // put the grid back	endifEnd